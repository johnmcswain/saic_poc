<?xml version="1.0" encoding="UTF-8"?>
<mxfile host="app.diagrams.net" modified="2026-01-28T12:00:00.000Z" agent="Claude" version="21.0.0" type="device">
  <diagram id="pais-architecture-v1.1" name="PAIS Architecture v1.1">
    <mxGraphModel dx="1600" dy="900" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1800" pageHeight="1400" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>
        
        <!-- Title -->
        <mxCell id="title" value="&lt;b&gt;PRIVATE AI SOVEREIGNTY (PAIS) v1.1&lt;/b&gt;&lt;br&gt;Reference Architecture with Storage &amp; Tailscale" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;fontColor=#1a365d;" vertex="1" parent="1">
          <mxGeometry x="500" y="15" width="700" height="50" as="geometry"/>
        </mxCell>

        <!-- Tailscale Mesh Overlay (Background) -->
        <mxCell id="tailscale-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f0f9ff;strokeColor=#0ea5e9;strokeWidth=3;dashed=1;dashPattern=8 4;" vertex="1" parent="1">
          <mxGeometry x="30" y="70" width="1740" height="1050" as="geometry"/>
        </mxCell>
        <mxCell id="tailscale-label" value="&lt;b&gt;TAILSCALE MESH NETWORK&lt;/b&gt; (Layer 0)&lt;br&gt;&lt;font color=&quot;#0369a1&quot;&gt;Encrypted WireGuard Â· MagicDNS Â· Zero-Config&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontColor=#0c4a6e;" vertex="1" parent="1">
          <mxGeometry x="45" y="75" width="400" height="40" as="geometry"/>
        </mxCell>

        <!-- Layer 1: Orchestration Layer -->
        <mxCell id="layer1-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e8f4f8;strokeColor=#2c5282;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="50" y="125" width="1100" height="130" as="geometry"/>
        </mxCell>
        <mxCell id="layer1-label" value="&lt;b&gt;LAYER 1: ORCHESTRATION&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=13;fontColor=#2c5282;" vertex="1" parent="1">
          <mxGeometry x="60" y="130" width="220" height="25" as="geometry"/>
        </mxCell>
        
        <!-- Orchestration Components -->
        <mxCell id="n8n" value="&lt;b&gt;n8n&lt;/b&gt;&lt;br&gt;Workflow Engine&lt;br&gt;&lt;font size=&quot;1&quot; color=&quot;#bee3f8&quot;&gt;orchestrator.tailnet.ts.net&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#3182ce;strokeColor=#2c5282;fontColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="70" y="165" width="150" height="70" as="geometry"/>
        </mxCell>
        <mxCell id="router" value="&lt;b&gt;Model Router&lt;/b&gt;&lt;br&gt;Local/Cloud Logic&lt;br&gt;&lt;font size=&quot;1&quot; color=&quot;#bee3f8&quot;&gt;Decision Engine&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#3182ce;strokeColor=#2c5282;fontColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="240" y="165" width="150" height="70" as="geometry"/>
        </mxCell>
        <mxCell id="api-gateway" value="&lt;b&gt;API Gateway&lt;/b&gt;&lt;br&gt;User Access&lt;br&gt;&lt;font size=&quot;1&quot; color=&quot;#bee3f8&quot;&gt;Traefik/Caddy&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#3182ce;strokeColor=#2c5282;fontColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="410" y="165" width="150" height="70" as="geometry"/>
        </mxCell>
        <mxCell id="integrations" value="&lt;b&gt;Integrations&lt;/b&gt;&lt;br&gt;Calendar, Email&lt;br&gt;&lt;font size=&quot;1&quot; color=&quot;#bee3f8&quot;&gt;External APIs&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#3182ce;strokeColor=#2c5282;fontColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="580" y="165" width="150" height="70" as="geometry"/>
        </mxCell>
        <mxCell id="audit-collector" value="&lt;b&gt;Audit Collector&lt;/b&gt;&lt;br&gt;Logging&lt;br&gt;&lt;font size=&quot;1&quot; color=&quot;#bee3f8&quot;&gt;Grafana/Loki&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#3182ce;strokeColor=#2c5282;fontColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="750" y="165" width="150" height="70" as="geometry"/>
        </mxCell>
        <mxCell id="orch-hardware" value="&lt;b&gt;GMKtec AI Max+ 395&lt;/b&gt;&lt;br&gt;128GB RAM | 2TB NVMe" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dbeafe;strokeColor=#3b82f6;fontColor=#1e40af;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="920" y="165" width="140" height="70" as="geometry"/>
        </mxCell>

        <!-- Layer 2: Inference Layer -->
        <mxCell id="layer2-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f0fff4;strokeColor=#276749;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="50" y="270" width="1100" height="150" as="geometry"/>
        </mxCell>
        <mxCell id="layer2-label" value="&lt;b&gt;LAYER 2: INFERENCE&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=13;fontColor=#276749;" vertex="1" parent="1">
          <mxGeometry x="60" y="275" width="180" height="25" as="geometry"/>
        </mxCell>

        <!-- Inference Components -->
        <mxCell id="dgx1" value="&lt;b&gt;DGX Spark #1&lt;/b&gt;&lt;br&gt;Primary Inference&lt;br&gt;70B Models&lt;br&gt;&lt;font size=&quot;1&quot; color=&quot;#9ae6b4&quot;&gt;dgx-spark-1.tailnet.ts.net&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#48bb78;strokeColor=#276749;fontColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="70" y="310" width="160" height="90" as="geometry"/>
        </mxCell>
        <mxCell id="dgx2" value="&lt;b&gt;DGX Spark #2&lt;/b&gt;&lt;br&gt;Secondary / Fine-tune&lt;br&gt;LoRA Training&lt;br&gt;&lt;font size=&quot;1&quot; color=&quot;#9ae6b4&quot;&gt;dgx-spark-2.tailnet.ts.net&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#48bb78;strokeColor=#276749;fontColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="250" y="310" width="160" height="90" as="geometry"/>
        </mxCell>
        <mxCell id="rtx4090" value="&lt;b&gt;RTX 4090 Desktop&lt;/b&gt;&lt;br&gt;Image Gen / Backup&lt;br&gt;ComfyUI&lt;br&gt;&lt;font size=&quot;1&quot; color=&quot;#9ae6b4&quot;&gt;alienware-r16.tailnet.ts.net&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#48bb78;strokeColor=#276749;fontColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="430" y="310" width="160" height="90" as="geometry"/>
        </mxCell>
        <mxCell id="laptops" value="&lt;b&gt;Mobile Inference&lt;/b&gt;&lt;br&gt;Precision 5690 (Ã—2)&lt;br&gt;Pro Max 16 Plus&lt;br&gt;&lt;font size=&quot;1&quot; color=&quot;#276749&quot;&gt;RTX 5000 Ada/Blackwell&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#9ae6b4;strokeColor=#276749;fontColor=#1a202c;" vertex="1" parent="1">
          <mxGeometry x="610" y="310" width="160" height="90" as="geometry"/>
        </mxCell>
        <mxCell id="openwebui" value="&lt;b&gt;Open WebUI&lt;/b&gt;&lt;br&gt;Chat Interface&lt;br&gt;&lt;font size=&quot;1&quot; color=&quot;#276749&quot;&gt;User-Facing&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#9ae6b4;strokeColor=#276749;fontColor=#1a202c;" vertex="1" parent="1">
          <mxGeometry x="790" y="310" width="120" height="90" as="geometry"/>
        </mxCell>
        <mxCell id="cloud-fallback" value="&lt;b&gt;Cloud Fallback&lt;/b&gt;&lt;br&gt;OpenAI/Anthropic&lt;br&gt;&lt;font size=&quot;1&quot; color=&quot;#276749&quot;&gt;PII-Stripped Only&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#c6f6d5;strokeColor=#276749;fontColor=#1a202c;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="930" y="310" width="120" height="90" as="geometry"/>
        </mxCell>

        <!-- Layer 3: Knowledge Layer -->
        <mxCell id="layer3-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#faf5ff;strokeColor=#6b46c1;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="50" y="435" width="750" height="120" as="geometry"/>
        </mxCell>
        <mxCell id="layer3-label" value="&lt;b&gt;LAYER 3: KNOWLEDGE (RAG)&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=13;fontColor=#6b46c1;" vertex="1" parent="1">
          <mxGeometry x="60" y="440" width="220" height="25" as="geometry"/>
        </mxCell>

        <!-- Knowledge Components -->
        <mxCell id="vectordb" value="&lt;b&gt;Vector DB&lt;/b&gt;&lt;br&gt;Qdrant&lt;br&gt;&lt;font size=&quot;1&quot; color=&quot;#d6bcfa&quot;&gt;Semantic Search&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#9f7aea;strokeColor=#6b46c1;fontColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="70" y="475" width="130" height="65" as="geometry"/>
        </mxCell>
        <mxCell id="embeddings" value="&lt;b&gt;Embeddings&lt;/b&gt;&lt;br&gt;nomic-embed&lt;br&gt;&lt;font size=&quot;1&quot; color=&quot;#d6bcfa&quot;&gt;Document Vectors&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#9f7aea;strokeColor=#6b46c1;fontColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="220" y="475" width="130" height="65" as="geometry"/>
        </mxCell>
        <mxCell id="ingestion" value="&lt;b&gt;Ingestion&lt;/b&gt;&lt;br&gt;Pipeline&lt;br&gt;&lt;font size=&quot;1&quot; color=&quot;#d6bcfa&quot;&gt;PDF, DOCX, MD&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#9f7aea;strokeColor=#6b46c1;fontColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="370" y="475" width="130" height="65" as="geometry"/>
        </mxCell>
        <mxCell id="kb-family" value="&lt;b&gt;Family KB&lt;/b&gt;&lt;br&gt;Medical, Financial&lt;br&gt;&lt;font size=&quot;1&quot; color=&quot;#6b46c1&quot;&gt;Private Docs&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e9d5ff;strokeColor=#6b46c1;fontColor=#1a202c;" vertex="1" parent="1">
          <mxGeometry x="520" y="475" width="130" height="65" as="geometry"/>
        </mxCell>
        <mxCell id="kb-code" value="&lt;b&gt;Code KB&lt;/b&gt;&lt;br&gt;Repos, Docs&lt;br&gt;&lt;font size=&quot;1&quot; color=&quot;#6b46c1&quot;&gt;Technical&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e9d5ff;strokeColor=#6b46c1;fontColor=#1a202c;" vertex="1" parent="1">
          <mxGeometry x="670" y="475" width="110" height="65" as="geometry"/>
        </mxCell>

        <!-- Layer 4: Storage Layer (NEW) -->
        <mxCell id="layer4-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fef3c7;strokeColor=#d97706;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="820" y="435" width="330" height="230" as="geometry"/>
        </mxCell>
        <mxCell id="layer4-label" value="&lt;b&gt;LAYER 4: STORAGE&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=13;fontColor=#d97706;" vertex="1" parent="1">
          <mxGeometry x="830" y="440" width="180" height="25" as="geometry"/>
        </mxCell>

        <!-- Storage Components -->
        <mxCell id="nas" value="&lt;b&gt;Synology DS423&lt;/b&gt;&lt;br&gt;4-Bay NAS&lt;br&gt;&lt;font size=&quot;1&quot; color=&quot;#fcd34d&quot;&gt;ds423.tailnet.ts.net&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f59e0b;strokeColor=#d97706;fontColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="840" y="475" width="140" height="70" as="geometry"/>
        </mxCell>
        <mxCell id="nas-drives" value="&lt;b&gt;IronWolf Pro 24TB&lt;/b&gt;&lt;br&gt;SHR (expandable)&lt;br&gt;Target: 4Ã—24TB = 72TB" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fef3c7;strokeColor=#f59e0b;fontColor=#92400e;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1000" y="475" width="130" height="70" as="geometry"/>
        </mxCell>
        
        <!-- Storage Tiers -->
        <mxCell id="tier1" value="&lt;b&gt;Tier 1&lt;/b&gt; Critical&lt;br&gt;&lt;font size=&quot;1&quot;&gt;Family docs + Cloud backup&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fde68a;strokeColor=#d97706;fontColor=#78350f;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="840" y="555" width="90" height="45" as="geometry"/>
        </mxCell>
        <mxCell id="tier2" value="&lt;b&gt;Tier 2&lt;/b&gt; Important&lt;br&gt;&lt;font size=&quot;1&quot;&gt;Backups, synthetic data&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fde68a;strokeColor=#d97706;fontColor=#78350f;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="940" y="555" width="90" height="45" as="geometry"/>
        </mxCell>
        <mxCell id="tier3" value="&lt;b&gt;Tier 3&lt;/b&gt; Replaceable&lt;br&gt;&lt;font size=&quot;1&quot;&gt;Models, Docker images&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fde68a;strokeColor=#d97706;fontColor=#78350f;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1040" y="555" width="90" height="45" as="geometry"/>
        </mxCell>
        <mxCell id="backup-targets" value="&lt;b&gt;Backup Targets&lt;/b&gt;&lt;br&gt;3-5 PCs | 2-3 Macs | 1-2 Linux&lt;br&gt;~25-30TB total" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fef3c7;strokeColor=#d97706;fontColor=#92400e;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="840" y="610" width="290" height="45" as="geometry"/>
        </mxCell>

        <!-- Layer 5: Edge Layer -->
        <mxCell id="layer5-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fffaf0;strokeColor=#c05621;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="50" y="570" width="750" height="120" as="geometry"/>
        </mxCell>
        <mxCell id="layer5-label" value="&lt;b&gt;LAYER 5: EDGE&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=13;fontColor=#c05621;" vertex="1" parent="1">
          <mxGeometry x="60" y="575" width="150" height="25" as="geometry"/>
        </mxCell>

        <!-- Edge Components -->
        <mxCell id="jetson1" value="&lt;b&gt;Jetson #1&lt;/b&gt;&lt;br&gt;Front Door&lt;br&gt;&lt;font size=&quot;1&quot; color=&quot;#fed7aa&quot;&gt;jetson-1.tailnet&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ed8936;strokeColor=#c05621;fontColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="70" y="610" width="110" height="65" as="geometry"/>
        </mxCell>
        <mxCell id="jetson2" value="&lt;b&gt;Jetson #2&lt;/b&gt;&lt;br&gt;Backyard&lt;br&gt;&lt;font size=&quot;1&quot; color=&quot;#fed7aa&quot;&gt;jetson-2.tailnet&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ed8936;strokeColor=#c05621;fontColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="195" y="610" width="110" height="65" as="geometry"/>
        </mxCell>
        <mxCell id="jetson3" value="&lt;b&gt;Jetson #3&lt;/b&gt;&lt;br&gt;Garage&lt;br&gt;&lt;font size=&quot;1&quot; color=&quot;#fed7aa&quot;&gt;jetson-3.tailnet&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ed8936;strokeColor=#c05621;fontColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="320" y="610" width="110" height="65" as="geometry"/>
        </mxCell>
        <mxCell id="rpi1" value="&lt;b&gt;RPi #1&lt;/b&gt;&lt;br&gt;Living Room&lt;br&gt;&lt;font size=&quot;1&quot; color=&quot;#c05621&quot;&gt;Whisper+Piper&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fed7aa;strokeColor=#c05621;fontColor=#7c2d12;" vertex="1" parent="1">
          <mxGeometry x="445" y="610" width="100" height="65" as="geometry"/>
        </mxCell>
        <mxCell id="rpi2" value="&lt;b&gt;RPi #2&lt;/b&gt;&lt;br&gt;Kitchen&lt;br&gt;&lt;font size=&quot;1&quot; color=&quot;#c05621&quot;&gt;Whisper+Piper&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fed7aa;strokeColor=#c05621;fontColor=#7c2d12;" vertex="1" parent="1">
          <mxGeometry x="560" y="610" width="100" height="65" as="geometry"/>
        </mxCell>
        <mxCell id="rpi3" value="&lt;b&gt;RPi #3&lt;/b&gt;&lt;br&gt;Office&lt;br&gt;&lt;font size=&quot;1&quot; color=&quot;#c05621&quot;&gt;Whisper+Piper&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fed7aa;strokeColor=#c05621;fontColor=#7c2d12;" vertex="1" parent="1">
          <mxGeometry x="675" y="610" width="100" height="65" as="geometry"/>
        </mxCell>

        <!-- Layer 6: Governance Layer (spans right side) -->
        <mxCell id="layer6-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff5f5;strokeColor=#c53030;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="1170" y="125" width="180" height="430" as="geometry"/>
        </mxCell>
        <mxCell id="layer6-label" value="&lt;b&gt;LAYER 6:&lt;br&gt;GOVERNANCE&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontColor=#c53030;" vertex="1" parent="1">
          <mxGeometry x="1190" y="130" width="140" height="35" as="geometry"/>
        </mxCell>
        <mxCell id="llamaguard" value="&lt;b&gt;Llama Guard&lt;/b&gt;&lt;br&gt;Content Filter&lt;br&gt;&lt;font size=&quot;1&quot; color=&quot;#fecaca&quot;&gt;Safety Classifier&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f87171;strokeColor=#c53030;fontColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="1185" y="175" width="150" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="access-control" value="&lt;b&gt;Access Control&lt;/b&gt;&lt;br&gt;User Profiles&lt;br&gt;&lt;font size=&quot;1&quot; color=&quot;#fecaca&quot;&gt;Tier Permissions&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f87171;strokeColor=#c53030;fontColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="1185" y="250" width="150" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="audit-log" value="&lt;b&gt;Audit Logs&lt;/b&gt;&lt;br&gt;History&lt;br&gt;&lt;font size=&quot;1&quot; color=&quot;#fecaca&quot;&gt;90-day retention&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f87171;strokeColor=#c53030;fontColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="1185" y="325" width="150" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="policy-engine" value="&lt;b&gt;Policy Engine&lt;/b&gt;&lt;br&gt;Custom Rules&lt;br&gt;&lt;font size=&quot;1&quot; color=&quot;#fecaca&quot;&gt;Data Sovereignty&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f87171;strokeColor=#c53030;fontColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="1185" y="400" width="150" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="tailscale-acl" value="&lt;b&gt;Tailscale ACLs&lt;/b&gt;&lt;br&gt;Network Policy&lt;br&gt;&lt;font size=&quot;1&quot; color=&quot;#fecaca&quot;&gt;Device Access Rules&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f87171;strokeColor=#c53030;fontColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="1185" y="475" width="150" height="60" as="geometry"/>
        </mxCell>

        <!-- User Access Panel -->
        <mxCell id="users-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8fafc;strokeColor=#94a3b8;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="1370" y="125" width="380" height="170" as="geometry"/>
        </mxCell>
        <mxCell id="users-label" value="&lt;b&gt;FAMILY USERS&lt;/b&gt; (via Tailscale)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontColor=#475569;" vertex="1" parent="1">
          <mxGeometry x="1380" y="130" width="360" height="25" as="geometry"/>
        </mxCell>
        <mxCell id="user-admin" value="ðŸ”§ &lt;b&gt;Admin&lt;/b&gt;&lt;br&gt;Tier 4 (Unrestricted)&lt;br&gt;&lt;font size=&quot;1&quot; color=&quot;#64748b&quot;&gt;Full system access&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e2e8f0;strokeColor=#64748b;fontColor=#1e293b;" vertex="1" parent="1">
          <mxGeometry x="1385" y="160" width="110" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="user-adult" value="ðŸ‘¤ &lt;b&gt;Adults&lt;/b&gt;&lt;br&gt;Tier 3&lt;br&gt;&lt;font size=&quot;1&quot; color=&quot;#64748b&quot;&gt;Minimal filtering&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e2e8f0;strokeColor=#64748b;fontColor=#1e293b;" vertex="1" parent="1">
          <mxGeometry x="1510" y="160" width="110" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="user-teen" value="ðŸ‘¤ &lt;b&gt;Teens&lt;/b&gt;&lt;br&gt;Tier 2&lt;br&gt;&lt;font size=&quot;1&quot; color=&quot;#64748b&quot;&gt;Moderate filtering&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e2e8f0;strokeColor=#64748b;fontColor=#1e293b;" vertex="1" parent="1">
          <mxGeometry x="1635" y="160" width="100" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="user-child" value="ðŸ‘¤ &lt;b&gt;Children&lt;/b&gt;&lt;br&gt;Tier 1&lt;br&gt;&lt;font size=&quot;1&quot; color=&quot;#64748b&quot;&gt;Strict filtering&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e2e8f0;strokeColor=#64748b;fontColor=#1e293b;" vertex="1" parent="1">
          <mxGeometry x="1385" y="225" width="110" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="user-mobile" value="ðŸ“± &lt;b&gt;Mobile&lt;/b&gt;&lt;br&gt;Remote Access&lt;br&gt;&lt;font size=&quot;1&quot; color=&quot;#64748b&quot;&gt;Tailscale anywhere&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e2e8f0;strokeColor=#64748b;fontColor=#1e293b;" vertex="1" parent="1">
          <mxGeometry x="1510" y="225" width="110" height="60" as="geometry"/>
        </mxCell>

        <!-- Apple Devices Panel -->
        <mxCell id="apple-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8fafc;strokeColor=#94a3b8;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="1370" y="310" width="380" height="100" as="geometry"/>
        </mxCell>
        <mxCell id="apple-label" value="&lt;b&gt;APPLE ECOSYSTEM&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontColor=#475569;" vertex="1" parent="1">
          <mxGeometry x="1380" y="315" width="360" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="mac-mini" value="&lt;b&gt;Mac mini M4 Pro&lt;/b&gt;&lt;br&gt;Always-On Server&lt;br&gt;&lt;font size=&quot;1&quot; color=&quot;#64748b&quot;&gt;mac-mini.tailnet.ts.net&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e2e8f0;strokeColor=#64748b;fontColor=#1e293b;" vertex="1" parent="1">
          <mxGeometry x="1385" y="340" width="170" height="55" as="geometry"/>
        </mxCell>
        <mxCell id="macbook" value="&lt;b&gt;MacBook Pro M4 Pro&lt;/b&gt;&lt;br&gt;Development&lt;br&gt;&lt;font size=&quot;1&quot; color=&quot;#64748b&quot;&gt;macbook-pro.tailnet.ts.net&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e2e8f0;strokeColor=#64748b;fontColor=#1e293b;" vertex="1" parent="1">
          <mxGeometry x="1570" y="340" width="170" height="55" as="geometry"/>
        </mxCell>

        <!-- Home Assistant Panel -->
        <mxCell id="ha-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8fafc;strokeColor=#94a3b8;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="1370" y="425" width="380" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="ha-label" value="&lt;b&gt;SMART HOME&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontColor=#475569;" vertex="1" parent="1">
          <mxGeometry x="1380" y="430" width="360" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="homeassistant" value="&lt;b&gt;Home Assistant&lt;/b&gt;&lt;br&gt;Automation Hub&lt;br&gt;&lt;font size=&quot;1&quot; color=&quot;#64748b&quot;&gt;homeassistant.tailnet.ts.net&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e2e8f0;strokeColor=#64748b;fontColor=#1e293b;" vertex="1" parent="1">
          <mxGeometry x="1385" y="455" width="170" height="45" as="geometry"/>
        </mxCell>
        <mxCell id="iot" value="&lt;b&gt;IoT Devices&lt;/b&gt;&lt;br&gt;Via Subnet Router&lt;br&gt;&lt;font size=&quot;1&quot; color=&quot;#64748b&quot;&gt;Non-Tailscale devices&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e2e8f0;strokeColor=#64748b;fontColor=#1e293b;" vertex="1" parent="1">
          <mxGeometry x="1570" y="455" width="170" height="45" as="geometry"/>
        </mxCell>

        <!-- Network Panel -->
        <mxCell id="network-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8fafc;strokeColor=#94a3b8;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="1370" y="520" width="380" height="170" as="geometry"/>
        </mxCell>
        <mxCell id="network-label" value="&lt;b&gt;PHYSICAL NETWORK&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontColor=#475569;" vertex="1" parent="1">
          <mxGeometry x="1380" y="525" width="360" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="router-hw" value="&lt;b&gt;Router&lt;/b&gt;&lt;br&gt;No port forwarding needed&lt;br&gt;&lt;font size=&quot;1&quot; color=&quot;#64748b&quot;&gt;Tailscale handles NAT traversal&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e2e8f0;strokeColor=#64748b;fontColor=#1e293b;" vertex="1" parent="1">
          <mxGeometry x="1385" y="550" width="170" height="55" as="geometry"/>
        </mxCell>
        <mxCell id="switch" value="&lt;b&gt;Network Switch&lt;/b&gt;&lt;br&gt;1GbE / 2.5GbE&lt;br&gt;&lt;font size=&quot;1&quot; color=&quot;#64748b&quot;&gt;VLAN segmentation optional&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e2e8f0;strokeColor=#64748b;fontColor=#1e293b;" vertex="1" parent="1">
          <mxGeometry x="1570" y="550" width="170" height="55" as="geometry"/>
        </mxCell>
        <mxCell id="speeds" value="&lt;b&gt;Transfer Speeds&lt;/b&gt;&lt;br&gt;Local LAN: 100-300 MB/s | Tailscale Remote: 50-100 MB/s typical" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f1f5f9;strokeColor=#94a3b8;fontColor=#475569;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1385" y="615" width="355" height="35" as="geometry"/>
        </mxCell>
        <mxCell id="tailscale-note" value="&lt;b&gt;Tailscale Benefits&lt;/b&gt;: Zero-config mesh VPN | WireGuard encryption | Works across any ISP | No dynamic DNS needed" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dbeafe;strokeColor=#3b82f6;fontColor=#1e40af;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1385" y="655" width="355" height="30" as="geometry"/>
        </mxCell>

        <!-- Connection Lines -->
        <!-- Orchestration to Inference -->
        <mxCell id="conn1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#64748b;strokeWidth=2;endArrow=classic;endFill=1;" edge="1" parent="1" source="router" target="dgx1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        
        <!-- Inference to Storage -->
        <mxCell id="conn2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#d97706;strokeWidth=2;endArrow=classic;endFill=1;dashed=1;" edge="1" parent="1" source="dgx1" target="nas">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="150" y="430"/>
              <mxPoint x="800" y="430"/>
              <mxPoint x="800" y="510"/>
            </Array>
          </mxGeometry>
        </mxCell>
        
        <!-- Knowledge to Storage -->
        <mxCell id="conn3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#d97706;strokeWidth=1;endArrow=classic;endFill=1;dashed=1;" edge="1" parent="1" source="kb-family" target="nas">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- Legend -->
        <mxCell id="legend-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#e2e8f0;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="50" y="710" width="750" height="100" as="geometry"/>
        </mxCell>
        <mxCell id="legend-title" value="&lt;b&gt;LEGEND&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontColor=#4a5568;" vertex="1" parent="1">
          <mxGeometry x="60" y="715" width="80" height="20" as="geometry"/>
        </mxCell>
        
        <!-- Layer colors -->
        <mxCell id="legend-tailscale" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f0f9ff;strokeColor=#0ea5e9;strokeWidth=2;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="740" width="20" height="15" as="geometry"/>
        </mxCell>
        <mxCell id="legend-tailscale-text" value="Tailscale Mesh" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="85" y="737" width="80" height="20" as="geometry"/>
        </mxCell>
        
        <mxCell id="legend1" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#3182ce;strokeColor=#2c5282;" vertex="1" parent="1">
          <mxGeometry x="170" y="740" width="20" height="15" as="geometry"/>
        </mxCell>
        <mxCell id="legend1-text" value="Orchestration" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="195" y="737" width="75" height="20" as="geometry"/>
        </mxCell>
        
        <mxCell id="legend2" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#48bb78;strokeColor=#276749;" vertex="1" parent="1">
          <mxGeometry x="275" y="740" width="20" height="15" as="geometry"/>
        </mxCell>
        <mxCell id="legend2-text" value="Inference" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="300" y="737" width="60" height="20" as="geometry"/>
        </mxCell>
        
        <mxCell id="legend3" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#9f7aea;strokeColor=#6b46c1;" vertex="1" parent="1">
          <mxGeometry x="365" y="740" width="20" height="15" as="geometry"/>
        </mxCell>
        <mxCell id="legend3-text" value="Knowledge" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="390" y="737" width="65" height="20" as="geometry"/>
        </mxCell>
        
        <mxCell id="legend4" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f59e0b;strokeColor=#d97706;" vertex="1" parent="1">
          <mxGeometry x="460" y="740" width="20" height="15" as="geometry"/>
        </mxCell>
        <mxCell id="legend4-text" value="Storage" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="485" y="737" width="50" height="20" as="geometry"/>
        </mxCell>
        
        <mxCell id="legend5" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ed8936;strokeColor=#c05621;" vertex="1" parent="1">
          <mxGeometry x="540" y="740" width="20" height="15" as="geometry"/>
        </mxCell>
        <mxCell id="legend5-text" value="Edge" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="565" y="737" width="40" height="20" as="geometry"/>
        </mxCell>
        
        <mxCell id="legend6" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f87171;strokeColor=#c53030;" vertex="1" parent="1">
          <mxGeometry x="610" y="740" width="20" height="15" as="geometry"/>
        </mxCell>
        <mxCell id="legend6-text" value="Governance" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="635" y="737" width="70" height="20" as="geometry"/>
        </mxCell>

        <!-- Flow lines legend -->
        <mxCell id="legend-line1" style="endArrow=classic;html=1;strokeColor=#64748b;strokeWidth=2;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="60" y="780" as="sourcePoint"/>
            <mxPoint x="110" y="780" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="legend-line1-text" value="Primary Data Flow" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="120" y="772" width="100" height="20" as="geometry"/>
        </mxCell>
        
        <mxCell id="legend-line2" style="endArrow=classic;html=1;strokeColor=#d97706;strokeWidth=2;dashed=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="230" y="780" as="sourcePoint"/>
            <mxPoint x="280" y="780" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="legend-line2-text" value="Storage Access" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="290" y="772" width="90" height="20" as="geometry"/>
        </mxCell>

        <mxCell id="legend-ts-icon" value="ðŸ”’" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="400" y="770" width="20" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="legend-ts-text" value="All traffic encrypted via Tailscale WireGuard" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="420" y="772" width="220" height="20" as="geometry"/>
        </mxCell>

        <!-- Version info -->
        <mxCell id="version" value="PAIS Framework v1.1 | January 2026 | Storage + Tailscale Edition" style="text;html=1;strokeColor=none;fillColor=none;align=right;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#94a3b8;" vertex="1" parent="1">
          <mxGeometry x="1450" y="780" width="300" height="20" as="geometry"/>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
